# История изменений проекта

## 19.03.2025
- Создание документационных файлов проекта
- Начало разработки админ-панели в стиле Apple
- Реализация системы аутентификации через ввод кода
- Создание провайдеров аутентификации и темы (темной/светлой)

## 20.03.2025
- Обновление файла root.ts - добавление новых маршрутизаторов (auth, users, transactions)
- Исправление ошибок типизации в authStore.ts (корректировка типа adminData)
- Исправление ошибок типизации в users.ts (корректная работа с фильтрами Prisma)
- Исправление ошибок типизации в transactions.ts (проверки на undefined значения)

## 22.03.2025
- Добавлена утилита для объединения CSS классов (utils.ts)
- Создан компонент StatCard для отображения статистических данных на дашборде
- Создан компонент UsersTable для отображения и управления пользователями
- Исправлены импорты компонентов HeroUI для правильной работы библиотеки UI
- Обновлена структура проекта в документации

## 23.03.2025
- Удалены устаревшие зависимости от роутера post.ts
- Исправлены импорты компонентов Dropdown из HeroUI (@heroui/dropdown)
- Создан клиентский компонент Providers.tsx для обертки всех провайдеров
- Изменена архитектура приложения для работы с серверными/клиентскими компонентами Next.js
- Переработана главная страница для использования клиентских данных вместо серверных
- Создана индексная структура папок компонентов для лучшей поддержки типов
- Исправлена ошибка с использованием метаданных в клиентском компоненте (layout.tsx теперь серверный)

## 24.03.2025
- Исправлена типизация в authStore.ts для поддержки undefined в функции login
- Обновлена типизация и проверки в функции login для корректной обработки null значений
- Улучшена обработка пользовательских данных в странице login/page.tsx
- Исправлены проблемы с типами на странице входа с использованием приведения типов для решения проблемы null/undefined
- Добавлены явные проверки на наличие пользовательских данных в ответе API
- Обновлена архивация запросов пользователей в документации проекта

## 25.03.2025
- Добавлен тип UserFromStorage для поддержки пользовательских данных из localStorage
- Создан объединенный тип AuthUser для совместимости с различными источниками данных
- Обновлена логика работы с токенами в authStore.ts и роутере auth.ts
- Добавлена генерация токена для авторизованных пользователей
- Улучшена совместимость между API и клиентской частью приложения
- Исправлены ошибки типизации в страницах и компонентах

## 26.03.2025
- Обновлена история проекта для отражения последних изменений в связи с решением проблем типизации и авторизации
- Произведено подключение к базе данных Neon с использованием обновленной строки подключения
- Добавлены диагностические инструменты для проверки работы аутентификации
- Обнаружено несоответствие между вводимым кодом доступа и значением в базе данных

## 27.03.2025
- Исправлена ошибка "Unsupported type <Item>" в компоненте UsersTable путем корректного использования структуры таблицы HeroUI
- Улучшена обработка данных пагинации в таблице пользователей
- Исправлена ошибка в AuthProvider, вызывающая циклические перенаправления между страницами
- Внедрен механизм предотвращения множественных перенаправлений с использованием состояния навигации
- Оптимизированы переходы между страницами с использованием router.replace вместо router.push
